name: "Fetch RSS Feeds"

# on:
#   schedule:
#     - cron: "*/5 * * * *"
on: push

jobs:
  fetch-crypto-data:
    runs-on: ubuntu-latest
    steps:
      # Check out the repository so it can read the files inside of it and do other operations
      - name: Check out repo
        uses: actions/checkout@v3
      # Run index.js in my root folder
      - uses: ./
      # The Flat Action step. We fetch the data in the http_url and save it as downloaded_filename
      # - name: Fetch data
      #   uses: githubocto/flat@v3
      #   with:
      #     http_url: 'https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=BTC,USD,EUR'
      #     downloaded_filename: 'price.json'
      - run: |
          git config user.name github-actions
          git config user.email github-actions@github.com
          git add .
          git commit -m "fetch data"
          git push


# name: "Test commit"
# on: push
# jobs:
#   build:
#     runs-on: ubuntu-latest
#     steps:
#       - uses: actions/checkout@v3
#       - run: |
#           date > generated.txt
#           git config user.name github-actions
#           git config user.email github-actions@github.com
#           git add .
#           git commit -m "generated"
#           git push
