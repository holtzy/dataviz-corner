<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/7b0d10d140b8a0a5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7b0d10d140b8a0a5.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-f11614d8aa7ee555.js" defer=""></script><script src="/_next/static/chunks/pages/_app-694ee0f2821639fc.js" defer=""></script><script src="/_next/static/chunks/996-eeb5175dbd5dba8f.js" defer=""></script><script src="/_next/static/chunks/36-94b5e24e03efc6db.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...slug%5D-af748dcc13a25fcb.js" defer=""></script><script src="/_next/static/HEkhRyO68Nq4toHtepe11/_buildManifest.js" defer=""></script><script src="/_next/static/HEkhRyO68Nq4toHtepe11/_ssgManifest.js" defer=""></script></head><body><div id="__next"></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Re-coloring Illustrator graphics based on JSON data files","link":"https://vis4.net/blog/2017/03/re-coloring-illustrator-graphics-based-on-data-files/","pubDate":"2017-03-02T09:31:18.000Z","content":"\u003cp\u003eWhen working on \u003ca href=\"https://vis4.net/blog/posts/to-cartogram-or-not-to-cartogram-the-brexit/\"\u003echoropleth maps\u003c/a\u003e or charts in Illustrator, sometimes the (final) data is not yet available by the time you’re designing the graphic. The typical work-around is to re-import the updated part of the graphic and align it with the rest of the artwork. But this is tedious work, especially if you’re dealing with multiple maps. To address this problem I wrote an \u003ca href=\"https://github.com/newsdev/ai-scripts/blob/master/colorize%20artwork.jsx\" target=\"_blank\" rel=\"noopener\"\u003eIllustrator script\u003c/a\u003e that can re-color the artwork based on a JSON file. This blog post will walk you through how to use the script.\u003c/p\u003e\u003ch2 id=\"step-1-installing-the-colorizer-script\"\u003e\u003ca class=\"anchor\" href=\"#step-1-installing-the-colorizer-script\"\u003e\u003cspan class=\"header-anchor\"\u003e#\u003c/span\u003e\u003c/a\u003e Step 1: Installing the colorizer script\u003c/h2\u003e\u003cp\u003eTo install the script you will need to clone our \u003ca href=\"https://github.com/newsdev/ai-scripts\" target=\"_blank\" rel=\"noopener\"\u003eai-scripts\u003c/a\u003e repository inside your Illustrator script folder. If you’re on macOS or OSX this would look something like this:\u003c/p\u003e\u003cpre\u003e\u003ccode\u003e❯ cd /Applications/Adobe\\ Illustrator\\ CC\\ 2017❯ cd Presets.localized/en_US/Scripts❯ git clone git@github.com:newsdev/ai-scripts.git\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eDepending on what Illustrator version you’re using you might need to adjust the path in the first line. Alternative to cloning the repo, you can also just download the ai-scripts \u003ca href=\"https://github.com/newsdev/ai-scripts/archive/master.zip\" target=\"_blank\" rel=\"noopener\"\u003eZIP archive\u003c/a\u003e and unpack it into the Illustrator Scripts folder. \u003cimg src=\"/blog/images/old/1f044cc830f3d20d07c58a760eb72ba5.png\" alt=\"\"\u003e After restarting Illustrator you should see the new scripts in the \u003cem\u003eFile \u0026gt; Scripts\u003c/em\u003e menu: \u003cimg src=\"/blog/images/old/c0033e9528c888f1fb92bb8b1e216a47.png\" alt=\"\"\u003e\u003c/p\u003e\u003ch2 id=\"step-2-setting-up-the-illustrator-document\"\u003e\u003ca class=\"anchor\" href=\"#step-2-setting-up-the-illustrator-document\"\u003e\u003cspan class=\"header-anchor\"\u003e#\u003c/span\u003e\u003c/a\u003e Step 2: Setting up the Illustrator document\u003c/h2\u003e\u003cp\u003eIn this tutorial we’re going to create a map of U.S. states. Let’s download the \u003cstrong\u003e\u003ca href=\"https://gist.githubusercontent.com/gka/9864daba96d1111634d319ffe61137ee/raw/9ee5e357a6f97ffbf27b311d47447368b82dffdf/us-states.svg\" target=\"_blank\" rel=\"noopener\"\u003eus-states.svg\u003c/a\u003e\u003c/strong\u003e file, which I created by throwing a US census \u003ca href=\"https://www.census.gov/geo/maps-data/data/cbf/cbf_state.html\" target=\"_blank\" rel=\"noopener\"\u003eshapefile\u003c/a\u003e into the \u003ca href=\"http://mapshaper.org/\" target=\"_blank\" rel=\"noopener\"\u003emapshaper\u003c/a\u003e web interface. The important thing about this SVG file is that every state path has the two-letter state postal code set as id attribute. And thankfully, Illustrator is preserving these ids as layer names during SVG import. \u003cimg src=\"/blog/images/old/1c57d21f9d116ded9e6e8f6193d3f352.png\" alt=\"\"\u003e\u003c/p\u003e\u003ch2 id=\"step-3-setting-up-the-data-file\"\u003e\u003ca class=\"anchor\" href=\"#step-3-setting-up-the-data-file\"\u003e\u003cspan class=\"header-anchor\"\u003e#\u003c/span\u003e\u003c/a\u003e Step 3: Setting up the data file\u003c/h2\u003e\u003cp\u003eNow we’re going to need to create the JSON file needed by the colorizer-script. You can use whatever script or data source you want to create this file, as long as the final output looks similar to this:\u003c/p\u003e\u003cfigure class=\"highlight\"\u003e\u003ctable\u003e\u003ctr\u003e\u003ctd class=\"gutter\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e1\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e2\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e3\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e4\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e5\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e6\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e7\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e8\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e9\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e10\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e11\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e12\u003c/span\u003e\u003cbr\u003e\u003c/pre\u003e\u003c/td\u003e\u003ctd class=\"code\"\u003e\u003cpre\u003e\u003cspan class=\"line\"\u003e[\u0026#123;\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"attr\"\u003e\"file\"\u003c/span\u003e: \u003cspan class=\"string\"\u003e\"results\"\u003c/span\u003e,\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e    \u003cspan class=\"attr\"\u003e\"data\"\u003c/span\u003e: \u0026#123;\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"attr\"\u003e\"AL\"\u003c/span\u003e: \u0026#123; \u003cspan class=\"attr\"\u003e\"fill\"\u003c/span\u003e: \u003cspan class=\"string\"\u003e\"#cc3d3d\"\u003c/span\u003e, \u003cspan class=\"attr\"\u003e\"stroke\"\u003c/span\u003e: \u003cspan class=\"literal\"\u003efalse\u003c/span\u003e \u0026#125;,\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"attr\"\u003e\"AK\"\u003c/span\u003e: \u0026#123; \u003cspan class=\"attr\"\u003e\"fill\"\u003c/span\u003e: \u003cspan class=\"string\"\u003e\"#cc3d3d\"\u003c/span\u003e, \u003cspan class=\"attr\"\u003e\"stroke\"\u003c/span\u003e: \u003cspan class=\"literal\"\u003efalse\u003c/span\u003e \u0026#125;,\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"attr\"\u003e\"AZ\"\u003c/span\u003e: \u0026#123; \u003cspan class=\"attr\"\u003e\"fill\"\u003c/span\u003e: \u003cspan class=\"string\"\u003e\"#cc3d3d\"\u003c/span\u003e, \u003cspan class=\"attr\"\u003e\"stroke\"\u003c/span\u003e: \u003cspan class=\"literal\"\u003efalse\u003c/span\u003e \u0026#125;,\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"attr\"\u003e\"AR\"\u003c/span\u003e: \u0026#123; \u003cspan class=\"attr\"\u003e\"fill\"\u003c/span\u003e: \u003cspan class=\"string\"\u003e\"#cc3d3d\"\u003c/span\u003e, \u003cspan class=\"attr\"\u003e\"stroke\"\u003c/span\u003e: \u003cspan class=\"literal\"\u003efalse\u003c/span\u003e \u0026#125;,\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"attr\"\u003e\"CA\"\u003c/span\u003e: \u0026#123; \u003cspan class=\"attr\"\u003e\"fill\"\u003c/span\u003e: \u003cspan class=\"string\"\u003e\"#1a80c4\"\u003c/span\u003e, \u003cspan class=\"attr\"\u003e\"stroke\"\u003c/span\u003e: \u003cspan class=\"literal\"\u003efalse\u003c/span\u003e \u0026#125;,\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e        \u003cspan class=\"attr\"\u003e\"CO\"\u003c/span\u003e: \u0026#123; \u003cspan class=\"attr\"\u003e\"fill\"\u003c/span\u003e: \u003cspan class=\"string\"\u003e\"#1a80c4\"\u003c/span\u003e, \u003cspan class=\"attr\"\u003e\"stroke\"\u003c/span\u003e: \u003cspan class=\"literal\"\u003efalse\u003c/span\u003e \u0026#125;,\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e        //...\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e    \u0026#125;\u003c/span\u003e\u003cbr\u003e\u003cspan class=\"line\"\u003e\u0026#125;]\u003c/span\u003e\u003cbr\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/figure\u003e\u003cp\u003eThe keys under the “data” section need to match the path names in the Illustrator document, in our case the two-letter state codes. If you set stroke or fill to false, Illustrator will remove the stroke/fill. If you want either stroke or fill to be left unchanged, simply leave them out in the data file. If you’re playing along with the tutorial you can \u003ca href=\"https://gist.githubusercontent.com/gka/9864daba96d1111634d319ffe61137ee/raw/18e377f8253f32522f84e3bc310d07252881421b/colorizer.json\" target=\"_blank\" rel=\"noopener\"\u003edownload the demo JSON file\u003c/a\u003e.\u003c/p\u003e\u003ch2 id=\"step-4-running-the-script\"\u003e\u003ca class=\"anchor\" href=\"#step-4-running-the-script\"\u003e\u003cspan class=\"header-anchor\"\u003e#\u003c/span\u003e\u003c/a\u003e Step 4: Running the script\u003c/h2\u003e\u003cp\u003eFinally you need to run the script. It will look for a data file called \u003ccode\u003ecolorizer.json\u003c/code\u003e in the same folder where the Illustrator document is located. If it doesn’t find one, a file open dialog will pop up asking you for the location of the JSON data file. \u003cimg src=\"/blog/images/old/a1930760736ccab5ab3348d1a62ba2dd.png\" alt=\"\"\u003e Just select the JSON file and click “Open”. Since the data file can contain multiple datasets, another dialog is popping up asking you to select a dataset from a list. This step also serves as final confirmation that you haven’t run the script accidentally. \u003cimg src=\"/blog/images/old/f6b2252af4873d5bad93ff947c76b2b8.png\" alt=\"\"\u003e And boom: your map is now re-colored based on the colors from the data file. \u003cimg src=\"/blog/images/old/8a8db3e76bb924a540753af6afc5b194.png\" alt=\"\"\u003e\u003c/p\u003e","contentSnippet":"When working on choropleth maps or charts in Illustrator, sometimes the (final) data is not yet available by the time you’re designing the graphic. The typical work-around is to re-import the updated part of the graphic and align it with the rest of the artwork. But this is tedious work, especially if you’re dealing with multiple maps. To address this problem I wrote an Illustrator script that can re-color the artwork based on a JSON file. This blog post will walk you through how to use the script.\n# Step 1: Installing the colorizer script\nTo install the script you will need to clone our ai-scripts repository inside your Illustrator script folder. If you’re on macOS or OSX this would look something like this:\n❯ cd /Applications/Adobe\\ Illustrator\\ CC\\ 2017❯ cd Presets.localized/en_US/Scripts❯ git clone git@github.com:newsdev/ai-scripts.git\nDepending on what Illustrator version you’re using you might need to adjust the path in the first line. Alternative to cloning the repo, you can also just download the ai-scripts ZIP archive and unpack it into the Illustrator Scripts folder.  After restarting Illustrator you should see the new scripts in the File \u003e Scripts menu: \n# Step 2: Setting up the Illustrator document\nIn this tutorial we’re going to create a map of U.S. states. Let’s download the us-states.svg file, which I created by throwing a US census shapefile into the mapshaper web interface. The important thing about this SVG file is that every state path has the two-letter state postal code set as id attribute. And thankfully, Illustrator is preserving these ids as layer names during SVG import. \n# Step 3: Setting up the data file\nNow we’re going to need to create the JSON file needed by the colorizer-script. You can use whatever script or data source you want to create this file, as long as the final output looks similar to this:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n[{\n    \"file\": \"results\",\n    \"data\": {\n        \"AL\": { \"fill\": \"#cc3d3d\", \"stroke\": false },\n        \"AK\": { \"fill\": \"#cc3d3d\", \"stroke\": false },\n        \"AZ\": { \"fill\": \"#cc3d3d\", \"stroke\": false },\n        \"AR\": { \"fill\": \"#cc3d3d\", \"stroke\": false },\n        \"CA\": { \"fill\": \"#1a80c4\", \"stroke\": false },\n        \"CO\": { \"fill\": \"#1a80c4\", \"stroke\": false },\n        //...\n    }\n}]\n\n\nThe keys under the “data” section need to match the path names in the Illustrator document, in our case the two-letter state codes. If you set stroke or fill to false, Illustrator will remove the stroke/fill. If you want either stroke or fill to be left unchanged, simply leave them out in the data file. If you’re playing along with the tutorial you can download the demo JSON file.\n# Step 4: Running the script\nFinally you need to run the script. It will look for a data file called colorizer.json in the same folder where the Illustrator document is located. If it doesn’t find one, a file open dialog will pop up asking you for the location of the JSON data file.  Just select the JSON file and click “Open”. Since the data file can contain multiple datasets, another dialog is popping up asking you to select a dataset from a list. This step also serves as final confirmation that you haven’t run the script accidentally.  And boom: your map is now re-colored based on the colors from the data file.","summary":"\u003cp\u003eWhen working on \u003ca href=\"https://vis4.net/blog/posts/to-cartogram-or-not-to-cartogram-the-brexit/\"\u003echoropleth maps\u003c/a\u003e or charts in Illus","id":"https://vis4.net/blog/2017/03/re-coloring-illustrator-graphics-based-on-data-files/","isoDate":"2017-03-02T09:31:18.000Z","blogTitle":"vis4.net"}},"__N_SSG":true},"page":"/[...slug]","query":{"slug":["re-coloring-illustrator-graphics-based-on-json-data-files"]},"buildId":"HEkhRyO68Nq4toHtepe11","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>