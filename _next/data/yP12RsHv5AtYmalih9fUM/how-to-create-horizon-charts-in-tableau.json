{"pageProps":{"post":{"creator":"Marc Reid","title":"How to Create Horizon Charts in Tableau","link":"https://datavis.blog/2022/04/30/horizon-charts-in-tableau/","pubDate":"Sat, 30 Apr 2022 21:13:21 +0000","content:encoded":"\n<p>This post aims to answer the following questions:&nbsp;</p>\n\n\n\n<ul><li>What is a horizon chart?</li><li>When would you use one?</li><li>How do you create a horizon chart in Tableau?</li></ul>\n\n\n\n<h3 class=\"wp-block-heading\">What is a horizon chart?</h3>\n\n\n\n<p>A horizon chart is essentially an area chart that has been split into slices and the slices then layered on top of one another with the areas representing the highest (absolute) values on top.</p>\n\n\n\n<p>Each slice has a greater intensity of colour based on the absolute value it represents.</p>\n\n\n\n<p>It’s easier to explain by walking through an example.&nbsp;</p>\n\n\n\n<p>We’ll start with this section of a standard area chart showing the normalised stock price of Meta Platforms. The axis of -1 to +1 represents the stock’s normalised daily value based on its highest and lowest closing price over the full timeframe of the data (note, in the section below not all data is shown, hence the normalised value does not extend down to -1).&nbsp;</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3027\" data-permalink=\"https://datavis.blog/horizon-chart-01/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-01.png\" data-orig-size=\"1255,633\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"horizon-chart-01\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-01.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-01.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-01.png?w=1255\" alt=\"\" class=\"wp-image-3027\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-01.png 1255w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-01.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-01.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-01.png?w=768 768w\" sizes=\"(max-width: 1255px) 100vw, 1255px\" /></figure>\n\n\n\n<p>We then divide the area chart into an equally sized slices:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3028\" data-permalink=\"https://datavis.blog/horizon-chart-02/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-02.png\" data-orig-size=\"1255,633\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"horizon-chart-02\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-02.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-02.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-02.png?w=1255\" alt=\"\" class=\"wp-image-3028\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-02.png 1255w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-02.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-02.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-02.png?w=768 768w\" sizes=\"(max-width: 1255px) 100vw, 1255px\" /></figure>\n\n\n\n<p>Each slice is then given a darker shade of colour based on the values contained within that slice:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3029\" data-permalink=\"https://datavis.blog/horizon-chart-03/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-03.png\" data-orig-size=\"1255,633\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"horizon-chart-03\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-03.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-03.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-03.png?w=1255\" alt=\"\" class=\"wp-image-3029\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-03.png 1255w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-03.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-03.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-03.png?w=768 768w\" sizes=\"(max-width: 1255px) 100vw, 1255px\" /></figure>\n\n\n\n<p>The negative values are then made positive so all areas are shown above the baseline with positive and negative values distinguished by colour:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3030\" data-permalink=\"https://datavis.blog/horizon-chart-04/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-04.png\" data-orig-size=\"1255,633\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"horizon-chart-04\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-04.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-04.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-04.png?w=1255\" alt=\"\" class=\"wp-image-3030\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-04.png 1255w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-04.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-04.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-04.png?w=768 768w\" sizes=\"(max-width: 1255px) 100vw, 1255px\" /></figure>\n\n\n\n<p>The upper slices then are then moved down and place on top each other, with the highest absolute value slices at the top:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3031\" data-permalink=\"https://datavis.blog/horizon-chart-05/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-05.png\" data-orig-size=\"1255,633\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"horizon-chart-05\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-05.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-05.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-05.png?w=1255\" alt=\"\" class=\"wp-image-3031\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-05.png 1255w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-05.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-05.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-05.png?w=768 768w\" sizes=\"(max-width: 1255px) 100vw, 1255px\" /></figure>\n\n\n\n<p>The final chart takes up the same space as just one of the original slices:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3032\" data-permalink=\"https://datavis.blog/horizon-chart-06/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-06.png\" data-orig-size=\"1255,633\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"horizon-chart-06\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-06.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-06.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-06.png?w=1255\" alt=\"\" class=\"wp-image-3032\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-06.png 1255w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-06.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-06.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-06.png?w=768 768w\" sizes=\"(max-width: 1255px) 100vw, 1255px\" /></figure>\n\n\n\n<p>The space that is saved allows many more data series to be included in a relatively compact area allowing comparisons of trends across a large amount of data, such as in the below example, which I created for the <a href=\"https://twitter.com/30DayChartChall\" target=\"_blank\" rel=\"noreferrer noopener\">#30DayChartChallenge</a> (Day 24, Financial Times theme) comparing the trends of the top 20 Nasdaq stocks as at 24 April 2022:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3054\" data-permalink=\"https://datavis.blog/top-20-nasdaq-stocks-horizon-chart2/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/05/top-20-nasdaq-stocks-horizon-chart2.png\" data-orig-size=\"1700,1100\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"top-20-nasdaq-stocks-horizon-chart2\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/05/top-20-nasdaq-stocks-horizon-chart2.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/05/top-20-nasdaq-stocks-horizon-chart2.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/05/top-20-nasdaq-stocks-horizon-chart2.png?w=1700\" alt=\"\" class=\"wp-image-3054\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/05/top-20-nasdaq-stocks-horizon-chart2.png 1700w, https://datavisdotblog.files.wordpress.com/2022/05/top-20-nasdaq-stocks-horizon-chart2.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/05/top-20-nasdaq-stocks-horizon-chart2.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/05/top-20-nasdaq-stocks-horizon-chart2.png?w=768 768w\" sizes=\"(max-width: 1700px) 100vw, 1700px\" /></figure>\n\n\n\n<h2 class=\"wp-block-heading\">When would you use a horizon chart?</h2>\n\n\n\n<p>The main advantage of horizon charts is that they allow you to show many data series in a relatively small space while still allowing the eye to be drawn to the extreme values.&nbsp;</p>\n\n\n\n<p>For example, compare the above horizon chart to the below line chart version that was created using the same dataset and the same chart dimensions:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3034\" data-permalink=\"https://datavis.blog/line-chart-horizon-chart-comparison/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/line-chart-horizon-chart-comparison.png\" data-orig-size=\"1700,1069\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"line-chart-horizon-chart-comparison\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/line-chart-horizon-chart-comparison.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/line-chart-horizon-chart-comparison.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/line-chart-horizon-chart-comparison.png?w=1700\" alt=\"\" class=\"wp-image-3034\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/line-chart-horizon-chart-comparison.png 1700w, https://datavisdotblog.files.wordpress.com/2022/04/line-chart-horizon-chart-comparison.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/line-chart-horizon-chart-comparison.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/line-chart-horizon-chart-comparison.png?w=768 768w\" sizes=\"(max-width: 1700px) 100vw, 1700px\" /></figure>\n\n\n\n<p>While the line chart will certainly be more recognisable to a general audience and trends can be seen, they do not stand out as much as they do in the horizon chart.&nbsp;</p>\n\n\n\n<p>What about accuracy? It could be argued that the horizon chart makes accurate comparisons between data points more difficult. However, it’s important to keep in mind the purpose of the chart, which in this case is to focus on the overall trends of multiple data series.</p>\n\n\n\n<p>“Like sparklines and to some extent heatmaps, the purpose of the horizon chart is not necessarily to enable readers to pick out specific values, but instead to easily spot general trends and identify extreme values.”&nbsp; &#8211; Jon Schwabish (<a href=\"https://www.amazon.co.uk/Better-Data-Visualizations-Scholars-Researchers/dp/0231193114/\" target=\"_blank\" rel=\"noreferrer noopener\">Better Data Visualizations</a>)</p>\n\n\n\n<h2 class=\"wp-block-heading\">How do you create a horizon chart in Tableau?</h2>\n\n\n\n<p>Firstly, thanks to <a href=\"https://twitter.com/YvanFornes\" target=\"_blank\" rel=\"noreferrer noopener\">Yvan Fornes</a> (and by extension to Joe Mako) who wrote this <a href=\"https://www.tableau.com/about/blog/2016/4/visualizing-dense-data-how-cut-and-superpose-areas-52839\" target=\"_blank\" rel=\"noreferrer noopener\">blog post</a> on creating horizon charts in Tableau back in 2016. The approach I’ve taken is similar, however, instead of ‘cutting the measure’ as Yvan describes in the post, I took the following steps:</p>\n\n\n\n<ol><li>Normalise the measure (stock price) to be between -1 and +1 so all stocks could be drawn with the same axis values and to make offsets easier (in step 3)</li><li>Create a -ve version of the measure to show negative values as positive</li><li>Create an offset measure for each slice (adjustable with a parameter)</li><li>Add all slices to the view and colour each slice</li><li>Sort the z-order of the layers from lowest to highest absolute value</li></ol>\n\n\n\n<h3 class=\"wp-block-heading\">Normalise the measure</h3>\n\n\n\n<p>To allow the same axis values to be used across every series and making the measure offsets in step 3 much easier, I first normalised the stock values to be between -1 and +1, where -1 is equal to the lowest closing stock price across the entire time frame and +1 is equal to the highest.</p>\n\n\n\n<p>First, min and max LODs are created:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3036\" data-permalink=\"https://datavis.blog/01-min-lod/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-min-lod.png\" data-orig-size=\"499,103\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"01-min-lod\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-min-lod.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-min-lod.png?w=499\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/01-min-lod.png?w=499\" alt=\"\" class=\"wp-image-3036\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/01-min-lod.png 499w, https://datavisdotblog.files.wordpress.com/2022/04/01-min-lod.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/01-min-lod.png?w=300 300w\" sizes=\"(max-width: 499px) 100vw, 499px\" /></figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3035\" data-permalink=\"https://datavis.blog/01-max-lod/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-max-lod.png\" data-orig-size=\"501,103\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"01-max-lod\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-max-lod.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-max-lod.png?w=501\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/01-max-lod.png?w=501\" alt=\"\" class=\"wp-image-3035\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/01-max-lod.png 501w, https://datavisdotblog.files.wordpress.com/2022/04/01-max-lod.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/01-max-lod.png?w=300 300w\" sizes=\"(max-width: 501px) 100vw, 501px\" /></figure>\n\n\n\n<p>@Metric points to the [Close Price] measure and @Dimension points to the [Stock] dimension. I created these calculations to make it easier to switch to using different values as all other calculations refer to these two calculations.</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3037\" data-permalink=\"https://datavis.blog/01-normalise-metric/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-normalise-metric.png\" data-orig-size=\"763,240\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"01-normalise-metric\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-normalise-metric.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/01-normalise-metric.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/01-normalise-metric.png?w=763\" alt=\"\" class=\"wp-image-3037\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/01-normalise-metric.png 763w, https://datavisdotblog.files.wordpress.com/2022/04/01-normalise-metric.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/01-normalise-metric.png?w=300 300w\" sizes=\"(max-width: 763px) 100vw, 763px\" /></figure>\n\n\n\n<h3 class=\"wp-block-heading\">Create a -ve version of the measure</h3>\n\n\n\n<p>Simply add a minus sign in front of the measure:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3038\" data-permalink=\"https://datavis.blog/02-metric-ve/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/02-metric-ve.png\" data-orig-size=\"587,168\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"02-metric-ve\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/02-metric-ve.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/02-metric-ve.png?w=587\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/02-metric-ve.png?w=587\" alt=\"\" class=\"wp-image-3038\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/02-metric-ve.png 587w, https://datavisdotblog.files.wordpress.com/2022/04/02-metric-ve.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/02-metric-ve.png?w=300 300w\" sizes=\"(max-width: 587px) 100vw, 587px\" /></figure>\n\n\n\n<h3 class=\"wp-block-heading\">Create offset measures for each slice</h3>\n\n\n\n<p>A total of eight measures are created &#8211; four using the +ve version of the normalised metric and four using the -ve version. The first set of four are shown below:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3039\" data-permalink=\"https://datavis.blog/03-offset-calcs/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/03-offset-calcs.png\" data-orig-size=\"652,340\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"03-offset-calcs\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/03-offset-calcs.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/03-offset-calcs.png?w=652\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/03-offset-calcs.png?w=652\" alt=\"\" class=\"wp-image-3039\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/03-offset-calcs.png 652w, https://datavisdotblog.files.wordpress.com/2022/04/03-offset-calcs.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/03-offset-calcs.png?w=300 300w\" sizes=\"(max-width: 652px) 100vw, 652px\" /></figure>\n\n\n\n<p>The second set of four calcs are the same except they use the -ve version of the metric shown previously (“Metric ▼”).</p>\n\n\n\n<p>The condition (IF p.Levels &gt; N) ensures that the marks are only drawn if required. So if the levels parameter is set to 2, there is no need to draw slices 3 and 4. All the above measures are added to the view so this helps keep the number of marks drawn to a minimum.&nbsp;</p>\n\n\n\n<h3 class=\"wp-block-heading\">Add all slices to the view and colour each slice</h3>\n\n\n\n<p>All measures are added to Measure Values and coloured using two colour palettes:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3040\" data-permalink=\"https://datavis.blog/04-measure-values/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/04-measure-values.png\" data-orig-size=\"156,210\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"04-measure-values\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/04-measure-values.png?w=156\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/04-measure-values.png?w=156\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/04-measure-values.png?w=156\" alt=\"\" class=\"wp-image-3040\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/04-measure-values.png 156w, https://datavisdotblog.files.wordpress.com/2022/04/04-measure-values.png?w=111 111w\" sizes=\"(max-width: 156px) 100vw, 156px\" /></figure>\n\n\n\n<p>Here’s the view at this point:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3041\" data-permalink=\"https://datavis.blog/05-full-axis/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/05-full-axis.png\" data-orig-size=\"1659,621\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"05-full-axis\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/05-full-axis.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/05-full-axis.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/05-full-axis.png?w=1659\" alt=\"\" class=\"wp-image-3041\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/05-full-axis.png 1659w, https://datavisdotblog.files.wordpress.com/2022/04/05-full-axis.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/05-full-axis.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/05-full-axis.png?w=768 768w\" sizes=\"(max-width: 1659px) 100vw, 1659px\" /></figure>\n\n\n\n<p>If we hide all data outside of the 0 to 1 axis range it looks like this:&nbsp;</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3042\" data-permalink=\"https://datavis.blog/06-limited-axis/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/06-limited-axis.png\" data-orig-size=\"1417,553\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"06-limited-axis\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/06-limited-axis.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/06-limited-axis.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/06-limited-axis.png?w=1417\" alt=\"\" class=\"wp-image-3042\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/06-limited-axis.png 1417w, https://datavisdotblog.files.wordpress.com/2022/04/06-limited-axis.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/06-limited-axis.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/06-limited-axis.png?w=768 768w\" sizes=\"(max-width: 1417px) 100vw, 1417px\" /></figure>\n\n\n\n<p>And those slices are all we want to see in the horizon chart, so to achieve that we can fix the axis to be between 0 to 1:</p>\n\n\n\n<figure class=\"wp-block-image size-large is-resized\"><img loading=\"lazy\" data-attachment-id=\"3043\" data-permalink=\"https://datavis.blog/07-fix-axes/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/07-fix-axes.png\" data-orig-size=\"452,652\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"07-fix-axes\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/07-fix-axes.png?w=208\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/07-fix-axes.png?w=452\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/07-fix-axes.png?w=452\" alt=\"\" class=\"wp-image-3043\" width=\"400\" height=\"577\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/07-fix-axes.png?w=400 400w, https://datavisdotblog.files.wordpress.com/2022/04/07-fix-axes.png?w=104 104w, https://datavisdotblog.files.wordpress.com/2022/04/07-fix-axes.png?w=208 208w, https://datavisdotblog.files.wordpress.com/2022/04/07-fix-axes.png 452w\" sizes=\"(max-width: 400px) 100vw, 400px\" /></figure>\n\n\n\n<p>And make the rows thinner to show more data series:</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3044\" data-permalink=\"https://datavis.blog/08-horizon-chart/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/08-horizon-chart.png\" data-orig-size=\"1581,619\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"08-horizon-chart\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/08-horizon-chart.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/08-horizon-chart.png?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/08-horizon-chart.png?w=1581\" alt=\"\" class=\"wp-image-3044\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/08-horizon-chart.png 1581w, https://datavisdotblog.files.wordpress.com/2022/04/08-horizon-chart.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/08-horizon-chart.png?w=300 300w, https://datavisdotblog.files.wordpress.com/2022/04/08-horizon-chart.png?w=768 768w\" sizes=\"(max-width: 1581px) 100vw, 1581px\" /></figure>\n\n\n\n<h3 class=\"wp-block-heading\">Tooltips</h3>\n\n\n\n<p>Despite the advantages of horizon charts mentioned earlier, they may be unintuitive to interpret for first time viewers. For this reason I added a tooltip that would provide the same information in a standard line chart.&nbsp;</p>\n\n\n\n<p>To aid the interpretation of the horizon chart, I added a <strong>dynamic reference line</strong> to the tooltip to highlight the date that the user has hovered over in the horizon chart.</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3045\" data-permalink=\"https://datavis.blog/horizon-chart-tooltip/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-tooltip.gif\" data-orig-size=\"1087,443\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"horizon-chart-tooltip\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-tooltip.gif?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-tooltip.gif?w=736\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/horizon-chart-tooltip.gif?w=1087\" alt=\"\" class=\"wp-image-3045\" /></figure>\n\n\n\n<p>I’ll create a separate short blog post on how to create this dynamic viz in tooltip.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Data</h3>\n\n\n\n<p>I found a list of the recent top 20 Nasdaq stocks on this The Motley Fool <a href=\"https://www.fool.com/investing/stock-market/indexes/nasdaq/\" target=\"_blank\" rel=\"noreferrer noopener\">website page</a> (original source is listed as: TD Ameritrade, as of March 25, 2022).</p>\n\n\n\n<p>The stock prices were sourced from Google Finance by using the “<a href=\"https://support.google.com/docs/answer/3093281?hl=en-GB\" target=\"_blank\" rel=\"noreferrer noopener\">GOOGLEFINANCE</a>” function in Google Sheets.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Fonts</h3>\n\n\n\n<p>The Financial Times uses the Financier font, which was custom designed by <a href=\"https://klim.co.nz/blog/financier-design-information/#:~:text=drawn%20for%20the%20redesign%20of%20the%20Financial%20Times%C2%A0(FT)\" target=\"_blank\" rel=\"noreferrer noopener\">Kris Sowersby</a>. In the time I had, the closest font I could find that was available in Tableau Desktop was Segoe UI.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Create your own horizon chart</h3>\n\n\n\n<p>As mentioned earlier I have used some key source calculations @Metric, @Dimension and @Date, which all other calculations and views refer to. This means you can copy all the calculations in the workbook to your own workbook and update these three calculations to point to your own respective source values and all other calculations should then work.&nbsp;</p>\n\n\n\n<p>You can even copy over the worksheet I have used and replace the data source (after you have updated the three ‘@’ calculations).</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3046\" data-permalink=\"https://datavis.blog/09-measure/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-measure.png\" data-orig-size=\"525,174\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"09-measure\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-measure.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-measure.png?w=525\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/09-measure.png?w=525\" alt=\"\" class=\"wp-image-3046\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/09-measure.png 525w, https://datavisdotblog.files.wordpress.com/2022/04/09-measure.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/09-measure.png?w=300 300w\" sizes=\"(max-width: 525px) 100vw, 525px\" /></figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3047\" data-permalink=\"https://datavis.blog/09-dimension/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-dimension.png\" data-orig-size=\"544,175\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"09-dimension\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-dimension.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-dimension.png?w=544\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/09-dimension.png?w=544\" alt=\"\" class=\"wp-image-3047\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/09-dimension.png 544w, https://datavisdotblog.files.wordpress.com/2022/04/09-dimension.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/09-dimension.png?w=300 300w\" sizes=\"(max-width: 544px) 100vw, 544px\" /></figure>\n\n\n\n<figure class=\"wp-block-image size-large\"><img data-attachment-id=\"3048\" data-permalink=\"https://datavis.blog/09-date/\" data-orig-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-date.png\" data-orig-size=\"547,184\" data-comments-opened=\"0\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"09-date\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-date.png?w=300\" data-large-file=\"https://datavisdotblog.files.wordpress.com/2022/04/09-date.png?w=547\" src=\"https://datavisdotblog.files.wordpress.com/2022/04/09-date.png?w=547\" alt=\"\" class=\"wp-image-3048\" srcset=\"https://datavisdotblog.files.wordpress.com/2022/04/09-date.png 547w, https://datavisdotblog.files.wordpress.com/2022/04/09-date.png?w=150 150w, https://datavisdotblog.files.wordpress.com/2022/04/09-date.png?w=300 300w\" sizes=\"(max-width: 547px) 100vw, 547px\" /></figure>\n\n\n\n<h3 class=\"wp-block-heading\">Video tutorial to create your own horizon chart</h3>\n\n\n\n<p>The below video gives a brief introduction to horizon charts and then walks through the process of copying over the required calculations and worksheets to your own workbook to easily create your own horizon chart:</p>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class=\"wp-block-embed__wrapper\">\n<div class=\"jetpack-video-wrapper\"><iframe class=\"youtube-player\" width=\"736\" height=\"414\" src=\"https://www.youtube.com/embed/LoaZlJAm7SA?version=3&#038;rel=1&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;fs=1&#038;hl=en-gb&#038;autohide=2&#038;wmode=transparent\" allowfullscreen=\"true\" style=\"border:0;\" sandbox=\"allow-scripts allow-same-origin allow-popups allow-presentation\"></iframe></div>\n</div></figure>\n\n\n\n<h2 class=\"wp-block-heading\">Workbook</h2>\n\n\n\n<p>The workbook can be downloaded from my Tableau Public profile <a href=\"https://public.tableau.com/shared/ZSKMYYXYD?:display_count=n&amp;:origin=viz_share_link\" target=\"_blank\" rel=\"noreferrer noopener\">here</a>.</p>\n\n\n\n<p>Thanks for reading!</p>\n\n\n\n<p>Marc</p>\n\n\n\n<ul class=\"wp-block-social-links has-icon-color has-icon-background-color is-style-default is-content-justification-left is-layout-flex wp-container-14\"><li style=\"color: #ffffff; background-color: #000000; \" class=\"wp-social-link wp-social-link-twitter wp-block-social-link\"><a rel=\" noopener nofollow\" target=\"_blank\" href=\"https://twitter.com/datavisblog\" class=\"wp-block-social-link-anchor\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M22.23,5.924c-0.736,0.326-1.527,0.547-2.357,0.646c0.847-0.508,1.498-1.312,1.804-2.27 c-0.793,0.47-1.671,0.812-2.606,0.996C18.324,4.498,17.257,4,16.077,4c-2.266,0-4.103,1.837-4.103,4.103 c0,0.322,0.036,0.635,0.106,0.935C8.67,8.867,5.647,7.234,3.623,4.751C3.27,5.357,3.067,6.062,3.067,6.814 c0,1.424,0.724,2.679,1.825,3.415c-0.673-0.021-1.305-0.206-1.859-0.513c0,0.017,0,0.034,0,0.052c0,1.988,1.414,3.647,3.292,4.023 c-0.344,0.094-0.707,0.144-1.081,0.144c-0.264,0-0.521-0.026-0.772-0.074c0.522,1.63,2.038,2.816,3.833,2.85 c-1.404,1.1-3.174,1.756-5.096,1.756c-0.331,0-0.658-0.019-0.979-0.057c1.816,1.164,3.973,1.843,6.29,1.843 c7.547,0,11.675-6.252,11.675-11.675c0-0.178-0.004-0.355-0.012-0.531C20.985,7.47,21.68,6.747,22.23,5.924z\"></path></svg><span class=\"wp-block-social-link-label screen-reader-text\">Twitter</span></a></li>\n\n<li style=\"color: #ffffff; background-color: #000000; \" class=\"wp-social-link wp-social-link-linkedin wp-block-social-link\"><a rel=\" noopener nofollow\" target=\"_blank\" href=\"https://www.linkedin.com/in/marcreiduk/\" class=\"wp-block-social-link-anchor\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z\"></path></svg><span class=\"wp-block-social-link-label screen-reader-text\">LinkedIn</span></a></li>\n\n<li style=\"color: #ffffff; background-color: #000000; \" class=\"wp-social-link wp-social-link-chain wp-block-social-link\"><a rel=\" noopener nofollow\" target=\"_blank\" href=\"https://public.tableau.com/profile/marc.reid#!/\" class=\"wp-block-social-link-anchor\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M19.647,16.706a1.134,1.134,0,0,0-.343-.833l-2.549-2.549a1.134,1.134,0,0,0-.833-.343,1.168,1.168,0,0,0-.883.392l.233.226q.2.189.264.264a2.922,2.922,0,0,1,.184.233.986.986,0,0,1,.159.312,1.242,1.242,0,0,1,.043.337,1.172,1.172,0,0,1-1.176,1.176,1.237,1.237,0,0,1-.337-.043,1,1,0,0,1-.312-.159,2.76,2.76,0,0,1-.233-.184q-.073-.068-.264-.264l-.226-.233a1.19,1.19,0,0,0-.4.895,1.134,1.134,0,0,0,.343.833L15.837,19.3a1.13,1.13,0,0,0,.833.331,1.18,1.18,0,0,0,.833-.318l1.8-1.789a1.12,1.12,0,0,0,.343-.821Zm-8.615-8.64a1.134,1.134,0,0,0-.343-.833L8.163,4.7a1.134,1.134,0,0,0-.833-.343,1.184,1.184,0,0,0-.833.331L4.7,6.473a1.12,1.12,0,0,0-.343.821,1.134,1.134,0,0,0,.343.833l2.549,2.549a1.13,1.13,0,0,0,.833.331,1.184,1.184,0,0,0,.883-.38L8.728,10.4q-.2-.189-.264-.264A2.922,2.922,0,0,1,8.28,9.9a.986.986,0,0,1-.159-.312,1.242,1.242,0,0,1-.043-.337A1.172,1.172,0,0,1,9.254,8.079a1.237,1.237,0,0,1,.337.043,1,1,0,0,1,.312.159,2.761,2.761,0,0,1,.233.184q.073.068.264.264l.226.233a1.19,1.19,0,0,0,.4-.895ZM22,16.706a3.343,3.343,0,0,1-1.042,2.488l-1.8,1.789a3.536,3.536,0,0,1-4.988-.025l-2.525-2.537a3.384,3.384,0,0,1-1.017-2.488,3.448,3.448,0,0,1,1.078-2.561l-1.078-1.078a3.434,3.434,0,0,1-2.549,1.078,3.4,3.4,0,0,1-2.5-1.029L3.029,9.794A3.4,3.4,0,0,1,2,7.294,3.343,3.343,0,0,1,3.042,4.806l1.8-1.789A3.384,3.384,0,0,1,7.331,2a3.357,3.357,0,0,1,2.5,1.042l2.525,2.537a3.384,3.384,0,0,1,1.017,2.488,3.448,3.448,0,0,1-1.078,2.561l1.078,1.078a3.551,3.551,0,0,1,5.049-.049l2.549,2.549A3.4,3.4,0,0,1,22,16.706Z\"></path></svg><span class=\"wp-block-social-link-label screen-reader-text\">Link</span></a></li>\n\n<li style=\"color: #ffffff; background-color: #000000; \" class=\"wp-social-link wp-social-link-youtube wp-block-social-link\"><a rel=\" noopener nofollow\" target=\"_blank\" href=\"https://www.youtube.com/channel/UC0TRdI_jiy1-YK2a9ZsClcw?sub_confirmation=1\" class=\"wp-block-social-link-anchor\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M21.8,8.001c0,0-0.195-1.378-0.795-1.985c-0.76-0.797-1.613-0.801-2.004-0.847c-2.799-0.202-6.997-0.202-6.997-0.202 h-0.009c0,0-4.198,0-6.997,0.202C4.608,5.216,3.756,5.22,2.995,6.016C2.395,6.623,2.2,8.001,2.2,8.001S2,9.62,2,11.238v1.517 c0,1.618,0.2,3.237,0.2,3.237s0.195,1.378,0.795,1.985c0.761,0.797,1.76,0.771,2.205,0.855c1.6,0.153,6.8,0.201,6.8,0.201 s4.203-0.006,7.001-0.209c0.391-0.047,1.243-0.051,2.004-0.847c0.6-0.607,0.795-1.985,0.795-1.985s0.2-1.618,0.2-3.237v-1.517 C22,9.62,21.8,8.001,21.8,8.001z M9.935,14.594l-0.001-5.62l5.404,2.82L9.935,14.594z\"></path></svg><span class=\"wp-block-social-link-label screen-reader-text\">YouTube</span></a></li></ul>\n\n\n\n<p><strong>Latest YouTube video</strong><br>This video demonstrates combining Cloudinary&#8217;s dynamic image creation service with Tableau&#8217;s new Image Role feature.</p>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class=\"wp-block-embed__wrapper\">\n<div class=\"jetpack-video-wrapper\"><iframe class=\"youtube-player\" width=\"736\" height=\"414\" src=\"https://www.youtube.com/embed/Zwt6eDCA_YM?version=3&#038;rel=1&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;fs=1&#038;hl=en-gb&#038;autohide=2&#038;wmode=transparent\" allowfullscreen=\"true\" style=\"border:0;\" sandbox=\"allow-scripts allow-same-origin allow-popups allow-presentation\"></iframe></div>\n</div></figure>\n","content:encodedSnippet":"This post aims to answer the following questions: \nWhat is a horizon chart?\nWhen would you use one?\nHow do you create a horizon chart in Tableau?\n\n\n\n\nWhat is a horizon chart?\nA horizon chart is essentially an area chart that has been split into slices and the slices then layered on top of one another with the areas representing the highest (absolute) values on top.\nEach slice has a greater intensity of colour based on the absolute value it represents.\nIt’s easier to explain by walking through an example. \nWe’ll start with this section of a standard area chart showing the normalised stock price of Meta Platforms. The axis of -1 to +1 represents the stock’s normalised daily value based on its highest and lowest closing price over the full timeframe of the data (note, in the section below not all data is shown, hence the normalised value does not extend down to -1). \n\n\n\n\nWe then divide the area chart into an equally sized slices:\n\n\n\n\nEach slice is then given a darker shade of colour based on the values contained within that slice:\n\n\n\n\nThe negative values are then made positive so all areas are shown above the baseline with positive and negative values distinguished by colour:\n\n\n\n\nThe upper slices then are then moved down and place on top each other, with the highest absolute value slices at the top:\n\n\n\n\nThe final chart takes up the same space as just one of the original slices:\n\n\n\n\nThe space that is saved allows many more data series to be included in a relatively compact area allowing comparisons of trends across a large amount of data, such as in the below example, which I created for the #30DayChartChallenge (Day 24, Financial Times theme) comparing the trends of the top 20 Nasdaq stocks as at 24 April 2022:\n\n\n\n\nWhen would you use a horizon chart?\nThe main advantage of horizon charts is that they allow you to show many data series in a relatively small space while still allowing the eye to be drawn to the extreme values. \nFor example, compare the above horizon chart to the below line chart version that was created using the same dataset and the same chart dimensions:\n\n\n\n\nWhile the line chart will certainly be more recognisable to a general audience and trends can be seen, they do not stand out as much as they do in the horizon chart. \nWhat about accuracy? It could be argued that the horizon chart makes accurate comparisons between data points more difficult. However, it’s important to keep in mind the purpose of the chart, which in this case is to focus on the overall trends of multiple data series.\n“Like sparklines and to some extent heatmaps, the purpose of the horizon chart is not necessarily to enable readers to pick out specific values, but instead to easily spot general trends and identify extreme values.”  – Jon Schwabish (Better Data Visualizations)\nHow do you create a horizon chart in Tableau?\nFirstly, thanks to Yvan Fornes (and by extension to Joe Mako) who wrote this blog post on creating horizon charts in Tableau back in 2016. The approach I’ve taken is similar, however, instead of ‘cutting the measure’ as Yvan describes in the post, I took the following steps:\nNormalise the measure (stock price) to be between -1 and +1 so all stocks could be drawn with the same axis values and to make offsets easier (in step 3)\nCreate a -ve version of the measure to show negative values as positive\nCreate an offset measure for each slice (adjustable with a parameter)\nAdd all slices to the view and colour each slice\nSort the z-order of the layers from lowest to highest absolute value\n\n\n\n\nNormalise the measure\nTo allow the same axis values to be used across every series and making the measure offsets in step 3 much easier, I first normalised the stock values to be between -1 and +1, where -1 is equal to the lowest closing stock price across the entire time frame and +1 is equal to the highest.\nFirst, min and max LODs are created:\n\n\n\n\n\n\n\n\n@Metric points to the [Close Price] measure and @Dimension points to the [Stock] dimension. I created these calculations to make it easier to switch to using different values as all other calculations refer to these two calculations.\n\n\n\n\nCreate a -ve version of the measure\nSimply add a minus sign in front of the measure:\n\n\n\n\nCreate offset measures for each slice\nA total of eight measures are created – four using the +ve version of the normalised metric and four using the -ve version. The first set of four are shown below:\n\n\n\n\nThe second set of four calcs are the same except they use the -ve version of the metric shown previously (“Metric ▼”).\nThe condition (IF p.Levels > N) ensures that the marks are only drawn if required. So if the levels parameter is set to 2, there is no need to draw slices 3 and 4. All the above measures are added to the view so this helps keep the number of marks drawn to a minimum. \nAdd all slices to the view and colour each slice\nAll measures are added to Measure Values and coloured using two colour palettes:\n\n\n\n\nHere’s the view at this point:\n\n\n\n\nIf we hide all data outside of the 0 to 1 axis range it looks like this: \n\n\n\n\nAnd those slices are all we want to see in the horizon chart, so to achieve that we can fix the axis to be between 0 to 1:\n\n\n\n\nAnd make the rows thinner to show more data series:\n\n\n\n\nTooltips\nDespite the advantages of horizon charts mentioned earlier, they may be unintuitive to interpret for first time viewers. For this reason I added a tooltip that would provide the same information in a standard line chart. \nTo aid the interpretation of the horizon chart, I added a dynamic reference line to the tooltip to highlight the date that the user has hovered over in the horizon chart.\n\n\n\n\nI’ll create a separate short blog post on how to create this dynamic viz in tooltip.\nData\nI found a list of the recent top 20 Nasdaq stocks on this The Motley Fool website page (original source is listed as: TD Ameritrade, as of March 25, 2022).\nThe stock prices were sourced from Google Finance by using the “GOOGLEFINANCE” function in Google Sheets.\nFonts\nThe Financial Times uses the Financier font, which was custom designed by Kris Sowersby. In the time I had, the closest font I could find that was available in Tableau Desktop was Segoe UI.\nCreate your own horizon chart\nAs mentioned earlier I have used some key source calculations @Metric, @Dimension and @Date, which all other calculations and views refer to. This means you can copy all the calculations in the workbook to your own workbook and update these three calculations to point to your own respective source values and all other calculations should then work. \nYou can even copy over the worksheet I have used and replace the data source (after you have updated the three ‘@’ calculations).\n\n\n\n\n\n\n\n\n\n\n\n\nVideo tutorial to create your own horizon chart\nThe below video gives a brief introduction to horizon charts and then walks through the process of copying over the required calculations and worksheets to your own workbook to easily create your own horizon chart:\n\n\n\n\n\n\nWorkbook\nThe workbook can be downloaded from my Tableau Public profile here.\nThanks for reading!\nMarc\n\nTwitter\n\nLinkedIn\n\nLink\n\nYouTube\n\n\n\n\nLatest YouTube video\nThis video demonstrates combining Cloudinary’s dynamic image creation service with Tableau’s new Image Role feature.","dc:creator":"Marc Reid","content":"Horizon charts can show trends across many data series in a relatively small space. This blog steps through a method for creating them in Tableau.","contentSnippet":"Horizon charts can show trends across many data series in a relatively small space. This blog steps through a method for creating them in Tableau.","guid":"http://datavis.blog/?p=3024","categories":["Chart Types","horizon chart","Tableau"],"isoDate":"2022-04-30T21:13:21.000Z","blogTitle":"Datavis.blog","img":"https://datavisdotblog.files.wordpress.com/2022/02/datavis.blog-heatmap.png?w=32"}},"__N_SSG":true}