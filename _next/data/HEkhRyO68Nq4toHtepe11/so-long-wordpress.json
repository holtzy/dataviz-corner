{"pageProps":{"post":{"title":"So long, Wordpress","link":"https://vis4.net/blog/2017/10/goodbye-wordpress/","pubDate":"2017-10-03T18:19:49.000Z","content":"<p>That’s it, I finally killed my Wordpress installation and moved the entire blog over to a static website generator.</p><p>After looking at a few frameworks I decided to go with <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>. The config files took a few minutes to get used to, but thanks to the plugin system I managed to get almost everything I wanted.</p><h2 id=\"migrating-the-old-posts\"><a class=\"anchor\" href=\"#migrating-the-old-posts\"><span class=\"header-anchor\">#</span></a> Migrating the old posts</h2><p>To get my stuff out of Wordpress I used the XML export and a <a href=\"https://gist.github.com/gka/5476f61bfb311447eac237192d4f71da\" target=\"_blank\" rel=\"noopener\">Python script</a> I wrote<sup class=\"footnote-ref\"><a href=\"#fn1\" id=\"fnref1\">[1]</a></sup> that converts the posts into Hexo-compatible markdown files. It also downloaded the embedded images and created the redirect directives so the old urls would still work.</p><p>The import went mostly fine, but I still have to go through many of the older posts to clean up the markdown.</p><h2 id=\"theming\"><a class=\"anchor\" href=\"#theming\"><span class=\"header-anchor\">#</span></a> Theming</h2><p>I went with a lazy color and font variation of the excellent <a href=\"https://probberechts.github.io/cactus-dark/\" target=\"_blank\" rel=\"noopener\">Cactus Dark</a> theme by Pieter Robberechts.</p><h2 id=\"plugins-plugins-plugins\"><a class=\"anchor\" href=\"#plugins-plugins-plugins\"><span class=\"header-anchor\">#</span></a> Plugins, plugins, plugins</h2><p>The great thing about Hexo is how easy it is to add more features to it. I ended up swapping the default markdown renderer for <a href=\"https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus\" target=\"_blank\" rel=\"noopener\">markdown-it-plus</a> to get everything I need.</p><p><strong>Syntax highlighting:</strong> just works!</p><figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">foo</span><span class=\"params\">(syntax, highlighting=<span class=\"string\">'great'</span>)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"string\">'yay'</span></span><br></pre></td></tr></table></figure><p><strong>Footnotes:</strong> couldn’t live without them<sup class=\"footnote-ref\"><a href=\"#fn2\" id=\"fnref2\">[2]</a></sup>.</p><p><strong>Custom HTML:</strong> Writing markdown is great and saves a lot of time, but sometimes you just need <span style=\"color:magenta; display:inline-block; transform: rotate(-20deg);\">something</span> <span style=\"color:cyan; display:inline-block; transform: rotate(20deg);\">more</span>.</p><p><strong>Latex math expressions:</strong> To be fair, I only used them in one blog post in 2009 and I honestly have no idea how to write them anymore, but it’s good that the blog supports it!</p><p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>!</mo><mrow><mo fence=\"true\">(</mo><mtable><mtr><mtd><mrow><msup><mi>r</mi><mrow><mi mathvariant=\"normal\">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><mtext> </mtext><msup><mi>g</mi><mrow><mi mathvariant=\"normal\">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><mtext> </mtext><msup><mi>b</mi><mrow><mi mathvariant=\"normal\">′</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence=\"true\">)</mo></mrow><mo>=</mo><mi>α</mi><mo>⋅</mo><mrow><mo fence=\"true\">(</mo><mtable><mtr><mtd><mrow><mi>r</mi></mrow></mtd></mtr><mtr><mtd><mrow><mtext> </mtext><mi>g</mi></mrow></mtd></mtr><mtr><mtd><mrow><mtext> </mtext><mi>b</mi></mrow></mtd></mtr></mtable><mo fence=\"true\">)</mo></mrow><mo separator=\"true\">;</mo><mn>0</mn><mo>&lt;</mo><mi>α</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">!\\left(\\begin{array}{c} r&#x27;\\\\\\ g&#x27;\\\\\\ b&#x27;\\end{array}\\right)=\\alpha\\cdot\\left(\\begin{array}{c} r\\\\\\ g\\\\\\ b\\end{array}\\right);0&lt;\\alpha&lt;1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:2.05002em;\"></span><span class=\"strut bottom\" style=\"height:3.60004em;vertical-align:-1.55002em;\"></span><span class=\"base displaystyle textstyle uncramped\"><span class=\"mclose\">!</span><span class=\"minner displaystyle textstyle uncramped\"><span class=\"style-wrap reset-textstyle textstyle uncramped\"><span class=\"delimsizing mult\"><span class=\"vlist\"><span style=\"top:0.9049999999999999em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"delimsizinginner delim-size4\"><span>⎝</span></span></span><span style=\"top:-0.89502em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"delimsizinginner delim-size4\"><span>⎛</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist\"><span style=\"top:-1.2099999999999997em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"vlist\"><span style=\"top:-0.413em;margin-right:0.05em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle scriptstyle uncramped\"><span class=\"mord scriptstyle uncramped\"><span class=\"mord mathrm\">′</span></span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span><span style=\"top:-0.00999999999999951em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord mspace\"> </span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span><span class=\"vlist\"><span style=\"top:-0.413em;margin-right:0.05em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle scriptstyle uncramped\"><span class=\"mord scriptstyle uncramped\"><span class=\"mord mathrm\">′</span></span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span><span style=\"top:1.1900000000000006em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord mspace\"> </span><span class=\"mord\"><span class=\"mord mathit\">b</span><span class=\"vlist\"><span style=\"top:-0.413em;margin-right:0.05em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle scriptstyle uncramped\"><span class=\"mord scriptstyle uncramped\"><span class=\"mord mathrm\">′</span></span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span></span></span><span class=\"style-wrap reset-textstyle textstyle uncramped\"><span class=\"delimsizing mult\"><span class=\"vlist\"><span style=\"top:0.9049999999999999em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"delimsizinginner delim-size4\"><span>⎠</span></span></span><span style=\"top:-0.89502em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"delimsizinginner delim-size4\"><span>⎞</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span><span class=\"mrel\">=</span><span class=\"mord mathit\" style=\"margin-right:0.0037em;\">α</span><span class=\"mbin\">⋅</span><span class=\"minner displaystyle textstyle uncramped\"><span class=\"style-wrap reset-textstyle textstyle uncramped\"><span class=\"delimsizing mult\"><span class=\"vlist\"><span style=\"top:0.9049999999999999em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"delimsizinginner delim-size4\"><span>⎝</span></span></span><span style=\"top:-0.89502em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"delimsizinginner delim-size4\"><span>⎛</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"arraycolsep\" style=\"width:0.5em;\"></span><span class=\"col-align-c\"><span class=\"vlist\"><span style=\"top:-1.2099999999999997em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span></span></span><span style=\"top:-0.00999999999999951em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span></span></span><span style=\"top:1.1900000000000006em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"mord displaystyle textstyle uncramped\"><span class=\"mord mspace\"> </span><span class=\"mord mathit\">b</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"arraycolsep\" style=\"width:0.5em;\"></span></span></span><span class=\"style-wrap reset-textstyle textstyle uncramped\"><span class=\"delimsizing mult\"><span class=\"vlist\"><span style=\"top:0.9049999999999999em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"delimsizinginner delim-size4\"><span>⎠</span></span></span><span style=\"top:-0.89502em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"delimsizinginner delim-size4\"><span>⎞</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span><span class=\"mpunct\">;</span><span class=\"mord mathrm\">0</span><span class=\"mrel\">&lt;</span><span class=\"mord mathit\" style=\"margin-right:0.0037em;\">α</span><span class=\"mrel\">&lt;</span><span class=\"mord mathrm\">1</span></span></span></span></span></p><h2 id=\"what-about-comments\"><a class=\"anchor\" href=\"#what-about-comments\"><span class=\"header-anchor\">#</span></a> What about comments?</h2><p>That’s the only sad part so far. A static website has no commenting system. I thought about using Disqus, but since they now seem to run ads in the free plan, I decided against it. Maybe I’ll come up with a solution later.<sup class=\"footnote-ref\"><a href=\"#fn3\" id=\"fnref3\">[3]</a></sup></p><p>However, since the XML file included the old comments I was able to just bake them into the static markdown files, so they’re at least preserved for the future.</p><h2 id=\"why-spend-all-this-effort\"><a class=\"anchor\" href=\"#why-spend-all-this-effort\"><span class=\"header-anchor\">#</span></a> Why spend all this effort</h2><p>Guess it’s the same reason why everyone moves away from Wordpress in the end: maintainance just takes up too much work. Every other month you need to upgrade the CMS or the plugins to make sure all security holes are fixed. After a couple years you accumulate too many plugins so eventually something will break.</p><p>For me it was the login to the Wordpress admin. A while ago I was freaking out about someone breaking into my Wordpress – automatic bots try to login all the time – so I installed plugins protecting the login. I was even able to integrate my YubiKey! But last week, I guess some automatic update of something must have caused the whole setup to fail and I wasn’t able to get back in. It took me a couple hours to re-gain access to my own CMS<sup class=\"footnote-ref\"><a href=\"#fn4\" id=\"fnref4\">[4]</a></sup>.</p><hr class=\"footnotes-sep\"><section class=\"footnotes\"><ol class=\"footnotes-list\"><li id=\"fn1\" class=\"footnote-item\"><p>Well, I started using <a href=\"https://github.com/dreikanter/wp2md\" target=\"_blank\" rel=\"noopener\">wp2md</a> but then I ended up rewriting everything except Aaron Swartz'(!) html2text script <a href=\"#fnref1\" class=\"footnote-backref\">↩︎</a></p></li><li id=\"fn2\" class=\"footnote-item\"><p>maybe without this one <a href=\"#fnref2\" class=\"footnote-backref\">↩︎</a></p></li><li id=\"fn3\" class=\"footnote-item\"><p>for now, if you feel like getting in touch, shoot me a message on <a href=\"https://keybase.io/\" target=\"_blank\" rel=\"noopener\">Keybase.io</a> <a href=\"#fnref3\" class=\"footnote-backref\">↩︎</a></p></li><li id=\"fn4\" class=\"footnote-item\"><p>which was very frustrating: 99% of the tutorials for resetting a wordpress password directly in the database are plain wrong (my blog wasn't using MD5 for hashing passwords) and I had to figure out how to disable all plugins <a href=\"#fnref4\" class=\"footnote-backref\">↩︎</a></p></li></ol></section>","contentSnippet":"That’s it, I finally killed my Wordpress installation and moved the entire blog over to a static website generator.\nAfter looking at a few frameworks I decided to go with Hexo. The config files took a few minutes to get used to, but thanks to the plugin system I managed to get almost everything I wanted.\n# Migrating the old posts\nTo get my stuff out of Wordpress I used the XML export and a Python script I wrote[1] that converts the posts into Hexo-compatible markdown files. It also downloaded the embedded images and created the redirect directives so the old urls would still work.\nThe import went mostly fine, but I still have to go through many of the older posts to clean up the markdown.\n# Theming\nI went with a lazy color and font variation of the excellent Cactus Dark theme by Pieter Robberechts.\n# Plugins, plugins, plugins\nThe great thing about Hexo is how easy it is to add more features to it. I ended up swapping the default markdown renderer for markdown-it-plus to get everything I need.\nSyntax highlighting: just works!\n\n\n1\n2\n\ndef foo(syntax, highlighting='great'):\n    yield 'yay'\n\n\nFootnotes: couldn’t live without them[2].\nCustom HTML: Writing markdown is great and saves a lot of time, but sometimes you just need something more.\nLatex math expressions: To be fair, I only used them in one blog post in 2009 and I honestly have no idea how to write them anymore, but it’s good that the blog supports it!\n!(r′ g′ b′)=α⋅(r g b);0<α<1!\\left(\\begin{array}{c} r'\\\\\\ g'\\\\\\ b'\\end{array}\\right)=\\alpha\\cdot\\left(\\begin{array}{c} r\\\\\\ g\\\\\\ b\\end{array}\\right);0<\\alpha<1!​⎝​⎛​​​r​′​​​ g​′​​​ b​′​​​​​⎠​⎞​​=α⋅​⎝​⎛​​​r​ g​ b​​​⎠​⎞​​;0<α<1\n# What about comments?\nThat’s the only sad part so far. A static website has no commenting system. I thought about using Disqus, but since they now seem to run ads in the free plan, I decided against it. Maybe I’ll come up with a solution later.[3]\nHowever, since the XML file included the old comments I was able to just bake them into the static markdown files, so they’re at least preserved for the future.\n# Why spend all this effort\nGuess it’s the same reason why everyone moves away from Wordpress in the end: maintainance just takes up too much work. Every other month you need to upgrade the CMS or the plugins to make sure all security holes are fixed. After a couple years you accumulate too many plugins so eventually something will break.\nFor me it was the login to the Wordpress admin. A while ago I was freaking out about someone breaking into my Wordpress – automatic bots try to login all the time – so I installed plugins protecting the login. I was even able to integrate my YubiKey! But last week, I guess some automatic update of something must have caused the whole setup to fail and I wasn’t able to get back in. It took me a couple hours to re-gain access to my own CMS[4].\n\n\nWell, I started using wp2md but then I ended up rewriting everything except Aaron Swartz'(!) html2text script ↩︎\n\nmaybe without this one ↩︎\n\nfor now, if you feel like getting in touch, shoot me a message on Keybase.io ↩︎\n\nwhich was very frustrating: 99% of the tutorials for resetting a wordpress password directly in the database are plain wrong (my blog wasn't using MD5 for hashing passwords) and I had to figure out how to disable all plugins ↩︎","summary":"<p>That’s it, I finally killed my Wordpress installation and moved the entire blog over to a static website generator.</p>\n<p>After looking ","id":"https://vis4.net/blog/2017/10/goodbye-wordpress/","isoDate":"2017-10-03T18:19:49.000Z","blogTitle":"vis4.net"}},"__N_SSG":true}